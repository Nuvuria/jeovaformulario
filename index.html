<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Agendar Instalação JEOLINK</title>
    <style>
      :root { color-scheme: light dark; }
      * { box-sizing: border-box; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #0f172a url('public/fundo.jpeg') center/cover no-repeat fixed; color: #e2e8f0; }
      .container { max-width: 640px; margin: 40px auto; padding: 24px; background: #111827; border: 1px solid #1f2937; border-radius: 12px; }
      h1 { font-size: 1.5rem; margin: 0 0 16px; color: #f8fafc; }
      p.desc { margin: 0 0 24px; color: #94a3b8; }
      form { display: grid; gap: 16px; }
      label { display: block; font-weight: 600; margin-bottom: 6px; color: #cbd5e1; }
      input, select, button { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #334155; background: #0b1220; color: #e2e8f0; }
      input::placeholder { color: #64748b; }
      button { cursor: pointer; font-weight: 700; background: #10b981; border-color: transparent; color: #052e2b; }
      button:hover { filter: brightness(1.05); }
      .row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
      @media (max-width: 640px) { .row { grid-template-columns: 1fr; } }
      .hero { display: none; }
      @media (max-width: 640px) {
        body { background: #0f172a; }
        .hero { display: block; width: 100%; height: 180px; object-fit: cover; border-radius: 12px; margin-bottom: 16px; }
      }
      h6 { margin: 4px 0 0; color: #94a3b8; font-weight: 400; font-size: 0.8rem; }
      #nomeCompleto { text-transform: uppercase; }
    </style>
  </head>
  <body>
    <main class="container">
      <h1>Agendar Instalação</h1>
      <p class="desc">Preencha os dados abaixo para enviar sua solicitação pelo WhatsApp.</p>
      <img class="hero" src="public/fundo.jpeg" alt="">
      <form id="agendarForm">
        <div>
          <label for="nomeCompleto">Nome completo</label>
          <input id="nomeCompleto" name="nomeCompleto" type="text" placeholder="Seu nome" required>
        </div>
        <div class="row">
          <div>
            <label for="cpf">CPF</label>
            <input id="cpf" name="cpf" type="text" placeholder="000.000.000-00" required>
          </div>
          <div>
            <label for="numeroTelefone">Telefone</label>
            <input id="numeroTelefone" name="numeroTelefone" type="tel" placeholder="(00) 00000-0000" required>
          </div>
        </div>
        <div>
          <label for="endereco">Endereço</label>
          <input id="endereco" name="endereco" type="text" placeholder="Rua, número, bairro, cidade" required>
        </div>
        <div class="row">
          <div>
            <label for="plano">Plano</label>
            <select id="plano" name="plano" required>
              <option value="" disabled selected>Selecione um plano</option>
              
              <option>200 MEGA </option>
             
            </select>
          </div>
          <div>
            <label for="dataVencimento">Dia do vencimento</label>
            <input id="dataVencimento" name="dataVencimento" type="number" min="1" max="31" step="1" placeholder="1 a 31" required>
            <h6>O dia da instalação só pode ser agendado no dia do seu vencimento.</h6>
          </div>
        </div>
        <input type="hidden" id="status" name="status" value="Pendente">
        <button type="submit">Agendar</button>
      </form>
    </main>
    <script>
      function formatDateBR(value) {
        if (!value) return "";
        const [y, m, d] = value.split("-");
        if (!y || !m || !d) return value;
        return `${d}/${m}/${y}`;
      }
      document.getElementById("agendarForm").addEventListener("submit", function(e) {
        e.preventDefault();
        try {
          const nome = document.getElementById("nomeCompleto").value.trim().toUpperCase();
          const cpf = document.getElementById("cpf").value.replace(/\D/g, "");
          const telefone = document.getElementById("numeroTelefone").value.trim();
          const endereco = document.getElementById("endereco").value.trim();
          const plano = document.getElementById("plano").value;
          const vencimento = document.getElementById("dataVencimento").value.trim();
          const status = document.getElementById("status").value;
          
          const base = "Olá, quero solicitar instalação de internet";
          const mensagem = `${base}\nNome completo: ${nome}\nCPF: ${cpf}\nTelefone: ${telefone}\nEndereço: ${endereco}\nPlano: ${plano}\nDia do vencimento: ${vencimento}\nStatus: ${status}`;
          const url = `https://wa.me/558186202832?text=${encodeURIComponent(mensagem)}`;
          window.open(url, "_blank");
        } catch (err) {
          console.error("Erro ao enviar formulário:", err);
          alert("Ocorreu um erro ao processar os dados. Verifique se todos os campos estão preenchidos corretamente.");
        }
      });
    </script>
  </body>
</html>